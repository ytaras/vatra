<section class="section scrollable">
    <div class="scrollable-content">
        <form class="" ng-submit="count(data)">
            <h2>Ціль</h2>

            <div class="form-group">
                <label for="inputType" class="control-label">Xaрактер</label>
                <select class="form-control" id="inputType" ng-model="data.type"
                        ng-options="t.value as t.label for t in types">
                </select>
            </div>
            <div class="form-group">
                <label for="inputTarget" class="control-label">Ціль</label>
                <input type="text" class="form-control" id="inputTarget">
            </div>
            <div class="form-group">
                <label for="inputDistance" class="control-label">Дальність</label>
                <input type="number" class="form-control" id="inputDistance" ng-model="data.distance" required>
            </div>
            <div class="form-group">
                <label for="inputElevation" class="control-label">Висота</label>
                <input type="number" class="form-control" id="inputElevation" ng-model="data.targetElevation"
                       required>
            </div>
            <div class="form-group">
                <label for="inputFront" class="control-label">Фронт</label>
                <input type="number" class="form-control" id="inputFront"
                       ng-disabled="singleTarget()" ng-model="data.front" required>
            </div>
            <div class="form-group">
                <label for="inputDepth" class="control-label">Глибина</label>
                <input type="number" class="form-control" id="inputDepth"
                       ng-disabled="singleTarget()" ng-model="data.depth" required>
            </div>

            <div class="form-group">
                <label for="inputTrajectory" class="control-label">Траекторія</label>
                <select class="form-control" id="inputTrajectory" ng-model="data.trajectory"
                        ng-options="t.value as t.label for t in trajectories">
                </select>
            </div>
            <div class="form-group">
                <label for="inputTask" class="control-label">Задача</label>
                <select class="form-control" id="inputTask" ng-model="data.task"
                        ng-options="t.value as t.label for t in tasks" required>
                </select>
            </div>
            <h2>Вогнева позиція</h2>

            <div class="form-group">
                <label for="inputPositionHeight" class="control-label">Висота</label>
                <input type="number" class="form-control" id="inputPositionHeight"
                       ng-model="data.positionElevation" required>
            </div>
            <div class="form-group">
                <label for="inputDevicesNumber" class="control-label">Кількість гранатометів</label>
                    <select class="form-control" id="inputDevicesNumber" ng-model="data.devicesNumber"
                            ng-options="t.value as t.label for t in counts" required>
                    </select>
            </div>
            <div class="form-group">
                <label for="inputDevicesInterval" class="control-label">Інтервал</label>
                    <input type="number" class="form-control" id="inputDevicesInterval" ng-model="data.interval">
            </div>
            <div class="form-group">
                <label for="inputTemperature" class="control-label">Температура повітря</label>
                    <input type="number" class="form-control" id="inputTemperature" ng-model="data.temperature">
            </div>
            <div class="form-group">
                <label for="inputWindDirection" class="control-label">Кут вітру (по годиннику)</label>
                    <input type="number" class="form-control" id="inputWindDirection" ng-model="data.windDirection">
            </div>
            <div class="form-group">
                <label for="inputWindSpeed" class="control-label">Швидкість вітру м/c</label>
                    <input type="number" class="form-control" id="inputWindSpeed" ng-model="data.windSpeed">
            </div>
            <button type="submit" class="btn btn-default">Розрахувати</button>
        </form>
        <div class="panel panel-default" ng-show="calculated()">
            <div class="panel-heading">
                <h4 class="panel-title">
                    Результат
                </h4>
            </div>
            <div class="panel-body">
                <p>Приціл: {{ result.sights.adjustedSights | number: 0 }}</p>

                <p>Поправка напрямку {{ result.sights.sideAdjustment | number: 2 }} тис.</p>

                <p>Фронт для 1 АГС {{ result.sights.oneDeviceFront | number: 2 }} тис</p>

                <p ng-show="showFrontDispersal()">Необхідне розсіювання по фронту, 15 м = {{
                    result.sights.frontDispersal | number: 2 }} тис</p>

                <p ng-show="showFan()">Віяло: {{ result.sights.fan | number: 2 }} тис</p>

                <p>Розхід по {{ result.grenades.grenadesPerDevice | number: 0 }} гран/АГС</p>

                <p>Вузька вилка {{ result.sights.thinFork }}</p>

                <p>ΔX тис {{ result.sights.distanceChangePer1M }} м</p>

                <p>Час польоту {{ result.sights.flightTime }} с</p>
            </div>
        </div>
        <div class="panel panel-default" ng-show="calculated()">
            <div class="panel-heading">
                <h4 class="panel-title">
                    Відладочна інформація
                </h4>
            </div>
            <div class="panel-body">
                <p>Приціл з таблиці на дальність {{ data.distance }}: {{ result.sights.originalSights }}</p>

                <p>Вектор вітру по напрямку стрільби: {{ result.sights.forwardWind }} м/с</p>

                <p>Поправка на вітер (з таблиці на дальність {{ data.distance }}): {{
                    result.sights.forwardWindAdjustment }}</p>

                <p>Поправка на температуру повітря і зарядів: {{ result.sights.temperatureOfAirAdjustment }} + {{
                    result.sights.temperatureOfShellAdjustment }}</p>

                <p>Поправка на тиск: {{ result.sights.pressureAdjustment }}</p>

                <p>Поправка на перевищення (кут): {{ result.sights.angleAdjustment }}</p>

                <p>Сума поправок (повинна дорівнювати значенню прицілу в панелі результатів):
                    {{ result.sights.originalSights + result.sights.forwardWindAdjustment
                    + result.sights.temperatureOfAirAdjustment + result.sights.temperatureOfShellAdjustment
                    + result.sights.pressureAdjustment + result.sights.angleAdjustment }}</p>

                <p>Вектор вітру поперечний до напрямку стрільби (якщо на 3 годину - плюс, на 9 - мінус): {{
                    result.sights.sideWind }} </p>

                <p>Поправка на боковий вітер (з таблиці на дальність {{ data.distance }}): {{
                    result.sights.sideWindAdjustment }}</p>

                <p>Поправка на деривацію: {{ result.sights.derivationAdjustment }}</p>

                <p>Сума поправок (повинна дорівнювати значенню поправки напрямку в панелі результатів):
                    {{ result.sights.sideWindAdjustment+ result.sights.derivationAdjustment }} / 100</p>
                <pre>
{{ data | json }}
{{ result | json }}
  </pre>
            </div>
        </div>

    </div>
</section>
